<?php

namespace Mrfansi\XenditSdk\Data;

use DateTimeInterface;
use Mrfansi\XenditSdk\Data\CardChannel\CardChannelProperties;
use Mrfansi\XenditSdk\Enums\Currency;
use Mrfansi\XenditSdk\Enums\InvoiceStatus;
use Mrfansi\XenditSdk\Enums\Locale;
use Spatie\LaravelData\Attributes\DataCollectionOf;
use Spatie\LaravelData\Data;
use Spatie\LaravelData\DataCollection;

class InvoiceResponse extends Data
{
    /**
     * Constructor for the InvoiceResponse class.
     *
     * @param  string  $id  Invoice ID generated by Xendit
     * @param  string  $user_id  Your Xendit Business ID
     * @param  string  $external_id  Invoice ID in your server for reconciliation
     * @param  InvoiceStatus  $status  Current status of the invoice
     * @param  string  $merchant_name  Your company or website name
     * @param  string|null  $merchant_profile_picture_url  URL to your company's profile picture
     * @param  float  $amount  Invoice amount
     * @param  string|null  $payer_email  Payer's email address
     * @param  string|null  $description  Invoice description
     * @param  string  $invoice_url  Public URL for this invoice
     * @param  Customer|null  $customer  End customer's details
     * @param  NotificationPreference|null  $customer_notification_preference  Notification preferences for this invoice
     * @param  DateTimeInterface  $expiry_date  Invoice expiry date and time
     * @param  array|null  $available_banks  Available payment methods through banks
     * @param  array|null  $available_retail_outlets  Available payment methods through retail outlets
     * @param  bool  $should_exclude_credit_card  Should credit card be excluded in invoice UI
     * @param  bool  $should_send_email  Should send email notifications
     * @param  DateTimeInterface  $updated  Last update timestamp
     * @param  DateTimeInterface  $created  Creation timestamp
     * @param  string|null  $mid_label  MID label for credit card payments
     * @param  Currency|null  $currency  Invoice currency
     * @param  string|null  $success_redirect_url  Success redirect URL
     * @param  string|null  $failure_redirect_url  Failure redirect URL
     * @param  DateTimeInterface|null  $paid_at  Payment timestamp
     * @param  string|null  $credit_card_charge_id  Credit card charge ID
     * @param  DataCollection|null  $payment_method  Payment methods used
     * @param  DataCollection|null  $payment_channel  Payment channels used
     * @param  string|null  $payment_destination  Virtual Account number or payment code
     * @param  bool|null  $fixed_va  Whether to enable one VA number for customers
     * @param  Locale|null  $locale  Invoice locale
     * @param  DataCollection|null  $items  Items in the invoice
     * @param  DataCollection|null  $fees  Additional fees
     * @param  PaymentDetails|null  $payment_details  QRIS payment details
     * @param  bool|null  $should_authenticate_credit_card  Whether to authenticate credit card payments
     * @param  CardChannelProperties|null  $channel_properties  Channel-specific properties
     * @param  array|null  $metadata  User defined metadata
     */
    public function __construct(
        public string $id,
        public string $user_id,
        public string $external_id,
        public InvoiceStatus $status,
        public string $merchant_name,
        public ?string $merchant_profile_picture_url,
        public float $amount,
        public ?string $payer_email,
        public ?string $description,
        public string $invoice_url,
        public ?Customer $customer,
        public ?NotificationPreference $customer_notification_preference,
        public DateTimeInterface $expiry_date,
        public ?array $available_banks,
        public ?array $available_retail_outlets,
        public bool $should_exclude_credit_card,
        public bool $should_send_email,
        public DateTimeInterface $updated,
        public DateTimeInterface $created,
        public ?string $mid_label = null,
        public ?Currency $currency = null,
        public ?string $success_redirect_url = null,
        public ?string $failure_redirect_url = null,
        public ?DateTimeInterface $paid_at = null,
        public ?string $credit_card_charge_id = null,
        #[DataCollectionOf(PaymentMethodData::class)]
        public ?DataCollection $payment_method = null,
        #[DataCollectionOf(PaymentMethodData::class)]
        public ?DataCollection $payment_channel = null,
        public ?string $payment_destination = null,
        public ?bool $fixed_va = null,
        public ?Locale $locale = null,
        #[DataCollectionOf(Item::class)]
        public ?DataCollection $items = null,
        #[DataCollectionOf(Fee::class)]
        public ?DataCollection $fees = null,
        public ?PaymentDetails $payment_details = null,
        public ?bool $should_authenticate_credit_card = null,
        public ?CardChannelProperties $channel_properties = null,
        public ?array $metadata = null,
    ) {}
}
